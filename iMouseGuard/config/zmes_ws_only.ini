# ================================
# ZoneMinder Event Server (WS only)
# Goal: ES publishes alarm events over WebSocket.
# We do NOT use ES hooks, FCM, or MQTT. Python forwarder handles Telegram.
# ================================

[general]
# Where ES writes small state files, tokens, etc.
# Use the nested app path you actually have.
base_data_path = /opt/iMouseGuard/iMouseGuard/var

# How often ES polls ZM for new events (seconds). Lower while testing.
event_check_interval = 2

# How often ES reloads monitor list from ZM (seconds).
monitor_reload_interval = 60

# 0 means never auto-restart. Keep it 0 inside Docker.
restart_interval = 0

# Verbosity for easier debugging
verbose = yes
es_debug_level = 5

# Some ZM setups don’t populate alarm cause. Keep false to avoid DB lookups.
read_alarm_cause = no

# Control which lifecycle messages become WS notifications
send_event_start_notification = yes
send_event_end_notification   = yes
send_event_cancel_notification = yes

# Silence the “uninitialized $skip_monitors” warning
skip_monitors =

# Optional default if ZM doesn’t send a cause
event_cause = Motion

[websockets]
# Bind to all addresses so local clients and other containers can connect
address = 0.0.0.0
port    = 9000

[auth]
# We’re not using WS auth during bring-up. Keep it off.
enable  = no
timeout = 20

[ssl]
# Keep SSL off inside the LAN and for quick testing.
# If you later enable SSL, forwarder WS_URL must be wss:// and certs must be set.
enable = no

[fcm]
# Not used. Forwarder posts to Telegram.
enable = no
# Keep token file here so you can switch FCM on later if ever needed.
token_file = /opt/iMouseGuard/iMouseGuard/var/push/tokens.txt

[mqtt]
# Not used in this setup.
enable = no

[hook]
# We do not call ES hooks. Our Python forwarder + hook does the alerting.
enable = no
